<template>
  <div class="max-w-3xl mx-auto py-10">
    <h1 class="text-3xl font-bold mb-4">ğŸ“„ ë¬¸ì§„ ê²°ê³¼</h1>

    <div class="bg-white p-6 rounded-2xl shadow mb-8">
      <h2 class="text-xl font-semibold">{{ summary.departmentName }}</h2>
      <p class="text-gray-600 mb-4">ì‘ì„± ì‹œê°„: {{ formattedDate }}</p>

      <h3 class="text-lg font-semibold mb-2">ìš”ì•½</h3>
      <p class="p-3 border rounded-lg bg-gray-50 mb-4">{{ aiSummary }}</p>

      <h3 class="text-lg font-semibold mb-2">ë¬¸ì§„ ìƒì„¸</h3>
      <ul class="space-y-2">
        <li
          v-for="(item, idx) in summary.answers"
          :key="idx"
          class="p-3 border rounded-lg"
        >
          <p class="font-semibold">{{ item.question }}</p>
          <p class="text-gray-700">{{ item.answer }}</p>
        </li>
      </ul>
    </div>

    <button
      class="w-full py-4 bg-sky-600 text-white text-lg font-semibold rounded-lg"
    >
      ì˜ì‚¬ì—ê²Œ ì œì¶œí•˜ê¸° â†’
    </button>
  </div>
</template>

<script>
export default {
  name: "TelemedicineResult",

  data() {
    return {
      summary: history.state.summary,
      aiSummary: history.state.summary.aiSummary || "ìš”ì•½ ìƒì„± ì¤‘...",
    };
  },

  computed: {
    formattedDate() {
      return new Date(this.summary.createdAt).toLocaleString();
    },
  },
};
</script>
